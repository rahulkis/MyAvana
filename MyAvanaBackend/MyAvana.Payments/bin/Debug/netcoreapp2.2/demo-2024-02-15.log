2024-02-15 13:11:01.2273|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:5003/api/values   
2024-02-15 13:11:02.8041|3|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]] Get() on controller MyAvana.Payments.Controllers.ValuesController (MyAvana.Payments.Api). 
2024-02-15 13:11:02.8412|1|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method MyAvana.Payments.Controllers.ValuesController.Get (MyAvana.Payments.Api) - Validation state: Valid 
2024-02-15 13:11:02.8730|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action method MyAvana.Payments.Controllers.ValuesController.Get (MyAvana.Payments.Api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 4.392ms. 
2024-02-15 13:11:02.8971|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String[]'. 
2024-02-15 13:11:03.2228|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action MyAvana.Payments.Controllers.ValuesController.Get (MyAvana.Payments.Api) in 395.8643ms 
2024-02-15 13:11:03.2467|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 2071.8435ms 200 application/json; charset=utf-8 
2024-02-15 13:11:03.3750|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:5003/favicon.ico   
2024-02-15 13:11:03.4865|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 132.7925ms 404  
2024-02-15 13:29:54.8901|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 POST http://localhost:5003/api/Payments/CardPayment application/json; charset=utf-8 322 
2024-02-15 13:29:55.0112|2|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-02-15 13:29:55.0427|3|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "CardPayment", controller = "Payments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CardPayment(MyAvanaApi.Models.ViewModels.CheckoutRequest) on controller MyAvana.Payments.Api.Controllers.PaymentsController (MyAvana.Payments.Api). 
2024-02-15 13:29:55.4832|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.SerializableError'. 
2024-02-15 13:29:55.4937|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) in 441.4138ms 
2024-02-15 13:29:55.4937|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 609.8317ms 400 application/json; charset=utf-8 
2024-02-15 13:39:27.5033|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:5003/api/values   
2024-02-15 13:39:27.8525|3|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[System.String]] Get() on controller MyAvana.Payments.Controllers.ValuesController (MyAvana.Payments.Api). 
2024-02-15 13:39:27.8735|1|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method MyAvana.Payments.Controllers.ValuesController.Get (MyAvana.Payments.Api) - Validation state: Valid 
2024-02-15 13:39:27.8826|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action method MyAvana.Payments.Controllers.ValuesController.Get (MyAvana.Payments.Api), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 0.466ms. 
2024-02-15 13:39:27.9026|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.String[]'. 
2024-02-15 13:39:28.0531|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action MyAvana.Payments.Controllers.ValuesController.Get (MyAvana.Payments.Api) in 192.1948ms 
2024-02-15 13:39:28.0671|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 570.4269ms 200 application/json; charset=utf-8 
2024-02-15 13:39:28.1469|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 GET http://localhost:5003/favicon.ico   
2024-02-15 13:39:28.1575|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 6.3365ms 404  
2024-02-15 13:42:05.4961|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 POST http://localhost:5003/api/Payments/CardPayment application/json; charset=utf-8 323 
2024-02-15 13:42:05.6344|2|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-02-15 13:42:05.6599|3|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "CardPayment", controller = "Payments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CardPayment(MyAvanaApi.Models.ViewModels.CheckoutRequest) on controller MyAvana.Payments.Api.Controllers.PaymentsController (MyAvana.Payments.Api). 
2024-02-15 13:42:10.2539|1|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) - Validation state: Valid 
2024-02-15 13:42:31.1448|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No type was specified for the decimal column 'Price' on entity type 'Tools'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. 
2024-02-15 13:42:31.1448|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No type was specified for the decimal column 'DefaultDecimal1' on entity type 'GenericSetting'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. 
2024-02-15 13:42:31.1448|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No type was specified for the decimal column 'DefaultDecimal2' on entity type 'GenericSetting'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. 
2024-02-15 13:42:31.1589|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No type was specified for the decimal column 'DefaultDecimal3' on entity type 'GenericSetting'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. 
2024-02-15 13:42:31.1589|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No type was specified for the decimal column 'DefaultDecimal4' on entity type 'GenericSetting'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. 
2024-02-15 13:42:31.1589|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No type was specified for the decimal column 'DefaultDecimal5' on entity type 'GenericSetting'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. 
2024-02-15 13:42:31.1589|30000|WARN|Microsoft.EntityFrameworkCore.Model.Validation|No type was specified for the decimal column 'Price' on entity type 'ProductEntity'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values using 'HasColumnType()'. 
2024-02-15 13:42:31.2399|10403|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.2.6-servicing-10079 initialized 'AvanaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MyAvana.Payment.Api  
2024-02-15 13:42:38.4240|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (244ms) [Parameters=[@__uId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AIResult], [x].[AccessFailedCount], [x].[AccountNo], [x].[Active], [x].[Address], [x].[BuyHairKit], [x].[City], [x].[ConcurrencyStamp], [x].[Country], [x].[CountryCode], [x].[CreatedAt], [x].[CustomerType], [x].[CustomerTypeId], [x].[DeviceId], [x].[Email], [x].[EmailConfirmed], [x].[FirstName], [x].[HairType], [x].[HubSpotContactId], [x].[ImageURL], [x].[IsAIV2Mobile], [x].[IsBlocked], [x].[IsOnTrial], [x].[IsPaid], [x].[IsProCustomer], [x].[LastModifiedAt], [x].[LastName], [x].[LockoutEnabled], [x].[LockoutEnd], [x].[LoginAlert], [x].[NormalizedEmail], [x].[NormalizedUserName], [x].[PasswordHash], [x].[PhoneNumber], [x].[PhoneNumberConfirmed], [x].[SalonId], [x].[SecurityStamp], [x].[SignupFrom], [x].[State], [x].[StripeCustomerId], [x].[Subscribe], [x].[TicketUserId], [x].[TrialExpiredOn], [x].[TwoFactorEnabled], [x].[TwoFactorTrans], [x].[UserName], [x].[ZipCode]
FROM [AspNetUsers] AS [x]
WHERE [x].[Id] = @__uId_0 
2024-02-15 13:45:26.9302|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (252ms) [Parameters=[@p47='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p48='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTimeOffset), @p11='?' (DbType = Boolean), @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?', @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTimeOffset), @p26='?' (Size = 4000), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTimeOffset), @p29='?' (DbType = Boolean), @p30='?' (Size = 256), @p31='?' (Size = 256), @p32='?' (Size = 4000), @p33='?' (Size = 4000), @p34='?' (DbType = Boolean), @p35='?' (DbType = Int32), @p36='?' (Size = 4000), @p37='?' (Size = 4000), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = Boolean), @p41='?' (DbType = Int64), @p42='?' (DbType = DateTimeOffset), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 256), @p46='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AIResult] = @p0, [AccessFailedCount] = @p1, [AccountNo] = @p2, [Active] = @p3, [Address] = @p4, [BuyHairKit] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [Country] = @p8, [CountryCode] = @p9, [CreatedAt] = @p10, [CustomerType] = @p11, [CustomerTypeId] = @p12, [DeviceId] = @p13, [Email] = @p14, [EmailConfirmed] = @p15, [FirstName] = @p16, [HairType] = @p17, [HubSpotContactId] = @p18, [ImageURL] = @p19, [IsAIV2Mobile] = @p20, [IsBlocked] = @p21, [IsOnTrial] = @p22, [IsPaid] = @p23, [IsProCustomer] = @p24, [LastModifiedAt] = @p25, [LastName] = @p26, [LockoutEnabled] = @p27, [LockoutEnd] = @p28, [LoginAlert] = @p29, [NormalizedEmail] = @p30, [NormalizedUserName] = @p31, [PasswordHash] = @p32, [PhoneNumber] = @p33, [PhoneNumberConfirmed] = @p34, [SalonId] = @p35, [SecurityStamp] = @p36, [SignupFrom] = @p37, [State] = @p38, [StripeCustomerId] = @p39, [Subscribe] = @p40, [TicketUserId] = @p41, [TrialExpiredOn] = @p42, [TwoFactorEnabled] = @p43, [TwoFactorTrans] = @p44, [UserName] = @p45, [ZipCode] = @p46
WHERE [Id] = @p47 AND [ConcurrencyStamp] = @p48;
SELECT @@ROWCOUNT; 
2024-02-15 13:45:27.1785|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (240ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CustomerTypeHistory] ([Comment], [CreatedOn], [CustomerId], [IsActive], [NewCustomerTypeId], [OldCustomerTypeId], [UpdatedByUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [CustomerTypeHistory]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity(); 
2024-02-15 13:45:27.4463|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (239ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?', @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentEntities] ([PaymentId], [CCNumber], [CreatedDate], [EmailAddress], [ExpirationDate], [HairAIAvailDate], [IsActive], [IsHairAIAvailed], [PaymentAmount], [ProviderId], [ProviderName], [SubscriptionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); 
2024-02-15 13:45:32.2129|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action method MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 201954.8537ms. 
2024-02-15 13:45:32.2243|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'. 
2024-02-15 13:45:32.2370|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) in 206574.5985ms 
2024-02-15 13:45:32.2370|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 206745.6508ms 200 application/json; charset=utf-8 
2024-02-15 14:45:38.0726|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 POST http://localhost:5003/api/Payments/CardPayment application/json; charset=utf-8 358 
2024-02-15 14:45:38.0726|2|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-02-15 14:45:38.0908|3|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "CardPayment", controller = "Payments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CardPayment(MyAvanaApi.Models.ViewModels.CheckoutRequest) on controller MyAvana.Payments.Api.Controllers.PaymentsController (MyAvana.Payments.Api). 
2024-02-15 14:45:38.1077|1|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) - Validation state: Valid 
2024-02-15 14:45:43.4877|10403|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.2.6-servicing-10079 initialized 'AvanaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MyAvana.Payment.Api  
2024-02-15 14:45:44.8584|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (249ms) [Parameters=[@__uId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AIResult], [x].[AccessFailedCount], [x].[AccountNo], [x].[Active], [x].[Address], [x].[BuyHairKit], [x].[City], [x].[ConcurrencyStamp], [x].[Country], [x].[CountryCode], [x].[CreatedAt], [x].[CustomerType], [x].[CustomerTypeId], [x].[DeviceId], [x].[Email], [x].[EmailConfirmed], [x].[FirstName], [x].[HairType], [x].[HubSpotContactId], [x].[ImageURL], [x].[IsAIV2Mobile], [x].[IsBlocked], [x].[IsOnTrial], [x].[IsPaid], [x].[IsProCustomer], [x].[LastModifiedAt], [x].[LastName], [x].[LockoutEnabled], [x].[LockoutEnd], [x].[LoginAlert], [x].[NormalizedEmail], [x].[NormalizedUserName], [x].[PasswordHash], [x].[PhoneNumber], [x].[PhoneNumberConfirmed], [x].[SalonId], [x].[SecurityStamp], [x].[SignupFrom], [x].[State], [x].[StripeCustomerId], [x].[Subscribe], [x].[TicketUserId], [x].[TrialExpiredOn], [x].[TwoFactorEnabled], [x].[TwoFactorTrans], [x].[UserName], [x].[ZipCode]
FROM [AspNetUsers] AS [x]
WHERE [x].[Id] = @__uId_0 
2024-02-15 14:45:49.5733|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (239ms) [Parameters=[@__Trim_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[StripePlanId], [s].[Active], [s].[Amount], [s].[Details], [s].[PlanName], [s].[Validity]
FROM [SubscriptionsEntities] AS [s]
WHERE LTRIM(RTRIM([s].[StripePlanId])) = @__Trim_0 
2024-02-15 14:47:45.9629|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (248ms) [Parameters=[@p47='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?', @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p48='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTimeOffset), @p11='?', @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?', @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTimeOffset), @p26='?' (Size = 4000), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTimeOffset), @p29='?' (DbType = Boolean), @p30='?' (Size = 256), @p31='?' (Size = 256), @p32='?' (Size = 4000), @p33='?' (Size = 4000), @p34='?' (DbType = Boolean), @p35='?' (DbType = Int32), @p36='?' (Size = 4000), @p37='?' (Size = 4000), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = Boolean), @p41='?' (DbType = Int64), @p42='?' (DbType = DateTimeOffset), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 256), @p46='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AIResult] = @p0, [AccessFailedCount] = @p1, [AccountNo] = @p2, [Active] = @p3, [Address] = @p4, [BuyHairKit] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [Country] = @p8, [CountryCode] = @p9, [CreatedAt] = @p10, [CustomerType] = @p11, [CustomerTypeId] = @p12, [DeviceId] = @p13, [Email] = @p14, [EmailConfirmed] = @p15, [FirstName] = @p16, [HairType] = @p17, [HubSpotContactId] = @p18, [ImageURL] = @p19, [IsAIV2Mobile] = @p20, [IsBlocked] = @p21, [IsOnTrial] = @p22, [IsPaid] = @p23, [IsProCustomer] = @p24, [LastModifiedAt] = @p25, [LastName] = @p26, [LockoutEnabled] = @p27, [LockoutEnd] = @p28, [LoginAlert] = @p29, [NormalizedEmail] = @p30, [NormalizedUserName] = @p31, [PasswordHash] = @p32, [PhoneNumber] = @p33, [PhoneNumberConfirmed] = @p34, [SalonId] = @p35, [SecurityStamp] = @p36, [SignupFrom] = @p37, [State] = @p38, [StripeCustomerId] = @p39, [Subscribe] = @p40, [TicketUserId] = @p41, [TrialExpiredOn] = @p42, [TwoFactorEnabled] = @p43, [TwoFactorTrans] = @p44, [UserName] = @p45, [ZipCode] = @p46
WHERE [Id] = @p47 AND [ConcurrencyStamp] = @p48;
SELECT @@ROWCOUNT; 
2024-02-15 14:47:46.2107|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (241ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CustomerTypeHistory] ([Comment], [CreatedOn], [CustomerId], [IsActive], [NewCustomerTypeId], [OldCustomerTypeId], [UpdatedByUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [CustomerTypeHistory]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity(); 
2024-02-15 14:47:46.4883|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (242ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?', @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentEntities] ([PaymentId], [CCNumber], [CreatedDate], [EmailAddress], [ExpirationDate], [HairAIAvailDate], [IsActive], [IsHairAIAvailed], [PaymentAmount], [ProviderId], [ProviderName], [SubscriptionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); 
2024-02-15 14:47:52.0738|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action method MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 133963.0755ms. 
2024-02-15 14:47:52.0738|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'. 
2024-02-15 14:47:52.0860|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) in 133991.9253ms 
2024-02-15 14:47:52.0860|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 134021.4105ms 200 application/json; charset=utf-8 
2024-02-15 14:51:20.9323|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 POST http://localhost:5003/api/Payments/CardPayment application/json; charset=utf-8 360 
2024-02-15 14:51:20.9387|2|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-02-15 14:51:20.9603|3|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "CardPayment", controller = "Payments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CardPayment(MyAvanaApi.Models.ViewModels.CheckoutRequest) on controller MyAvana.Payments.Api.Controllers.PaymentsController (MyAvana.Payments.Api). 
2024-02-15 14:52:13.5775|1|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) - Validation state: Valid 
2024-02-15 14:52:25.9551|10403|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.2.6-servicing-10079 initialized 'AvanaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MyAvana.Payment.Api  
2024-02-15 14:52:26.2273|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (241ms) [Parameters=[@__uId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AIResult], [x].[AccessFailedCount], [x].[AccountNo], [x].[Active], [x].[Address], [x].[BuyHairKit], [x].[City], [x].[ConcurrencyStamp], [x].[Country], [x].[CountryCode], [x].[CreatedAt], [x].[CustomerType], [x].[CustomerTypeId], [x].[DeviceId], [x].[Email], [x].[EmailConfirmed], [x].[FirstName], [x].[HairType], [x].[HubSpotContactId], [x].[ImageURL], [x].[IsAIV2Mobile], [x].[IsBlocked], [x].[IsOnTrial], [x].[IsPaid], [x].[IsProCustomer], [x].[LastModifiedAt], [x].[LastName], [x].[LockoutEnabled], [x].[LockoutEnd], [x].[LoginAlert], [x].[NormalizedEmail], [x].[NormalizedUserName], [x].[PasswordHash], [x].[PhoneNumber], [x].[PhoneNumberConfirmed], [x].[SalonId], [x].[SecurityStamp], [x].[SignupFrom], [x].[State], [x].[StripeCustomerId], [x].[Subscribe], [x].[TicketUserId], [x].[TrialExpiredOn], [x].[TwoFactorEnabled], [x].[TwoFactorTrans], [x].[UserName], [x].[ZipCode]
FROM [AspNetUsers] AS [x]
WHERE [x].[Id] = @__uId_0 
2024-02-15 14:52:29.8009|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (237ms) [Parameters=[@__Trim_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[StripePlanId], [s].[Active], [s].[Amount], [s].[Details], [s].[PlanName], [s].[Validity]
FROM [SubscriptionsEntities] AS [s]
WHERE LTRIM(RTRIM([s].[StripePlanId])) = @__Trim_0 
2024-02-15 14:52:53.8713|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (239ms) [Parameters=[@p47='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?', @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p48='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTimeOffset), @p11='?', @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?', @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTimeOffset), @p26='?' (Size = 4000), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTimeOffset), @p29='?' (DbType = Boolean), @p30='?' (Size = 256), @p31='?' (Size = 256), @p32='?' (Size = 4000), @p33='?' (Size = 4000), @p34='?' (DbType = Boolean), @p35='?' (DbType = Int32), @p36='?' (Size = 4000), @p37='?' (Size = 4000), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = Boolean), @p41='?' (DbType = Int64), @p42='?' (DbType = DateTimeOffset), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 256), @p46='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AIResult] = @p0, [AccessFailedCount] = @p1, [AccountNo] = @p2, [Active] = @p3, [Address] = @p4, [BuyHairKit] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [Country] = @p8, [CountryCode] = @p9, [CreatedAt] = @p10, [CustomerType] = @p11, [CustomerTypeId] = @p12, [DeviceId] = @p13, [Email] = @p14, [EmailConfirmed] = @p15, [FirstName] = @p16, [HairType] = @p17, [HubSpotContactId] = @p18, [ImageURL] = @p19, [IsAIV2Mobile] = @p20, [IsBlocked] = @p21, [IsOnTrial] = @p22, [IsPaid] = @p23, [IsProCustomer] = @p24, [LastModifiedAt] = @p25, [LastName] = @p26, [LockoutEnabled] = @p27, [LockoutEnd] = @p28, [LoginAlert] = @p29, [NormalizedEmail] = @p30, [NormalizedUserName] = @p31, [PasswordHash] = @p32, [PhoneNumber] = @p33, [PhoneNumberConfirmed] = @p34, [SalonId] = @p35, [SecurityStamp] = @p36, [SignupFrom] = @p37, [State] = @p38, [StripeCustomerId] = @p39, [Subscribe] = @p40, [TicketUserId] = @p41, [TrialExpiredOn] = @p42, [TwoFactorEnabled] = @p43, [TwoFactorTrans] = @p44, [UserName] = @p45, [ZipCode] = @p46
WHERE [Id] = @p47 AND [ConcurrencyStamp] = @p48;
SELECT @@ROWCOUNT; 
2024-02-15 14:52:54.1185|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (241ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CustomerTypeHistory] ([Comment], [CreatedOn], [CustomerId], [IsActive], [NewCustomerTypeId], [OldCustomerTypeId], [UpdatedByUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [CustomerTypeHistory]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity(); 
2024-02-15 14:52:54.3838|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (241ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?', @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentEntities] ([PaymentId], [CCNumber], [CreatedDate], [EmailAddress], [ExpirationDate], [HairAIAvailDate], [IsActive], [IsHairAIAvailed], [PaymentAmount], [ProviderId], [ProviderName], [SubscriptionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); 
2024-02-15 14:53:25.8212|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action method MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 72235.4752ms. 
2024-02-15 14:53:25.8212|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'. 
2024-02-15 14:53:25.8365|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) in 124873.6852ms 
2024-02-15 14:53:25.8365|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 124907.2906ms 200 application/json; charset=utf-8 
2024-02-15 14:57:39.5198|1|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request starting HTTP/1.1 POST http://localhost:5003/api/Payments/CardPayment application/json; charset=utf-8 356 
2024-02-15 14:57:39.5347|2|INFO|Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler|Successfully validated the token. 
2024-02-15 14:57:39.5484|3|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Route matched with {action = "CardPayment", controller = "Payments"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult CardPayment(MyAvanaApi.Models.ViewModels.CheckoutRequest) on controller MyAvana.Payments.Api.Controllers.PaymentsController (MyAvana.Payments.Api). 
2024-02-15 14:57:42.7028|1|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executing action method MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) - Validation state: Valid 
2024-02-15 14:57:48.6789|10403|INFO|Microsoft.EntityFrameworkCore.Infrastructure|Entity Framework Core 2.2.6-servicing-10079 initialized 'AvanaContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: MigrationsAssembly=MyAvana.Payment.Api  
2024-02-15 14:57:50.1829|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (246ms) [Parameters=[@__uId_0='?' (DbType = Guid)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [x].[Id], [x].[AIResult], [x].[AccessFailedCount], [x].[AccountNo], [x].[Active], [x].[Address], [x].[BuyHairKit], [x].[City], [x].[ConcurrencyStamp], [x].[Country], [x].[CountryCode], [x].[CreatedAt], [x].[CustomerType], [x].[CustomerTypeId], [x].[DeviceId], [x].[Email], [x].[EmailConfirmed], [x].[FirstName], [x].[HairType], [x].[HubSpotContactId], [x].[ImageURL], [x].[IsAIV2Mobile], [x].[IsBlocked], [x].[IsOnTrial], [x].[IsPaid], [x].[IsProCustomer], [x].[LastModifiedAt], [x].[LastName], [x].[LockoutEnabled], [x].[LockoutEnd], [x].[LoginAlert], [x].[NormalizedEmail], [x].[NormalizedUserName], [x].[PasswordHash], [x].[PhoneNumber], [x].[PhoneNumberConfirmed], [x].[SalonId], [x].[SecurityStamp], [x].[SignupFrom], [x].[State], [x].[StripeCustomerId], [x].[Subscribe], [x].[TicketUserId], [x].[TrialExpiredOn], [x].[TwoFactorEnabled], [x].[TwoFactorTrans], [x].[UserName], [x].[ZipCode]
FROM [AspNetUsers] AS [x]
WHERE [x].[Id] = @__uId_0 
2024-02-15 14:57:52.9005|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (255ms) [Parameters=[@__Trim_0='?' (Size = 450)], CommandType='Text', CommandTimeout='30']
SELECT TOP(1) [s].[StripePlanId], [s].[Active], [s].[Amount], [s].[Details], [s].[PlanName], [s].[Validity]
FROM [SubscriptionsEntities] AS [s]
WHERE LTRIM(RTRIM([s].[StripePlanId])) = @__Trim_0 
2024-02-15 14:58:01.6927|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (243ms) [Parameters=[@p47='?' (DbType = Guid), @p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?', @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p48='?' (Size = 4000), @p8='?' (Size = 4000), @p9='?' (DbType = Int32), @p10='?' (DbType = DateTimeOffset), @p11='?', @p12='?' (DbType = Int32), @p13='?' (Size = 4000), @p14='?' (Size = 256), @p15='?' (DbType = Boolean), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?', @p21='?' (DbType = Boolean), @p22='?', @p23='?' (DbType = Boolean), @p24='?' (DbType = Boolean), @p25='?' (DbType = DateTimeOffset), @p26='?' (Size = 4000), @p27='?' (DbType = Boolean), @p28='?' (DbType = DateTimeOffset), @p29='?' (DbType = Boolean), @p30='?' (Size = 256), @p31='?' (Size = 256), @p32='?' (Size = 4000), @p33='?' (Size = 4000), @p34='?' (DbType = Boolean), @p35='?' (DbType = Int32), @p36='?' (Size = 4000), @p37='?' (Size = 4000), @p38='?' (Size = 4000), @p39='?' (Size = 4000), @p40='?' (DbType = Boolean), @p41='?' (DbType = Int64), @p42='?' (DbType = DateTimeOffset), @p43='?' (DbType = Boolean), @p44='?' (DbType = Boolean), @p45='?' (Size = 256), @p46='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AIResult] = @p0, [AccessFailedCount] = @p1, [AccountNo] = @p2, [Active] = @p3, [Address] = @p4, [BuyHairKit] = @p5, [City] = @p6, [ConcurrencyStamp] = @p7, [Country] = @p8, [CountryCode] = @p9, [CreatedAt] = @p10, [CustomerType] = @p11, [CustomerTypeId] = @p12, [DeviceId] = @p13, [Email] = @p14, [EmailConfirmed] = @p15, [FirstName] = @p16, [HairType] = @p17, [HubSpotContactId] = @p18, [ImageURL] = @p19, [IsAIV2Mobile] = @p20, [IsBlocked] = @p21, [IsOnTrial] = @p22, [IsPaid] = @p23, [IsProCustomer] = @p24, [LastModifiedAt] = @p25, [LastName] = @p26, [LockoutEnabled] = @p27, [LockoutEnd] = @p28, [LoginAlert] = @p29, [NormalizedEmail] = @p30, [NormalizedUserName] = @p31, [PasswordHash] = @p32, [PhoneNumber] = @p33, [PhoneNumberConfirmed] = @p34, [SalonId] = @p35, [SecurityStamp] = @p36, [SignupFrom] = @p37, [State] = @p38, [StripeCustomerId] = @p39, [Subscribe] = @p40, [TicketUserId] = @p41, [TrialExpiredOn] = @p42, [TwoFactorEnabled] = @p43, [TwoFactorTrans] = @p44, [UserName] = @p45, [ZipCode] = @p46
WHERE [Id] = @p47 AND [ConcurrencyStamp] = @p48;
SELECT @@ROWCOUNT; 
2024-02-15 14:58:01.9388|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (243ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Guid), @p3='?' (DbType = Boolean), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [CustomerTypeHistory] ([Comment], [CreatedOn], [CustomerId], [IsActive], [NewCustomerTypeId], [OldCustomerTypeId], [UpdatedByUserId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT [Id]
FROM [CustomerTypeHistory]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity(); 
2024-02-15 14:58:02.2187|20101|INFO|Microsoft.EntityFrameworkCore.Database.Command|Executed DbCommand (249ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Boolean), @p7='?', @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (Size = 4000)], CommandType='Text', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [PaymentEntities] ([PaymentId], [CCNumber], [CreatedDate], [EmailAddress], [ExpirationDate], [HairAIAvailDate], [IsActive], [IsHairAIAvailed], [PaymentAmount], [ProviderId], [ProviderName], [SubscriptionId])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11); 
2024-02-15 14:58:07.6251|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action method MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 24918.9989ms. 
2024-02-15 14:58:07.6288|1|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.JsonResult'. 
2024-02-15 14:58:07.6288|2|INFO|Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker|Executed action MyAvana.Payments.Api.Controllers.PaymentsController.CardPayment (MyAvana.Payments.Api) in 28079.69ms 
2024-02-15 14:58:07.6427|2|INFO|Microsoft.AspNetCore.Hosting.Internal.WebHost|Request finished in 28123.8229ms 200 application/json; charset=utf-8 
